<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="707px" preserveAspectRatio="none" style="width:439px;height:707px;" version="1.1" viewBox="0 0 439 707" width="439px" zoomAndPan="magnify"><defs><filter height="300%" id="fmpw62ccjml09" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="163.5" cy="20" fill="#000000" filter="url(#fmpw62ccjml09)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#fmpw62ccjml09)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="111" x="108" y="50"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="91" x="118" y="71.1387">Show Progress</text><rect fill="#FEFECE" filter="url(#fmpw62ccjml09)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="174" x="76.5" y="103.9688"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="154" x="86.5" y="125.1074">Request background task</text><rect fill="#FEFECE" filter="url(#fmpw62ccjml09)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="165" x="81" y="201.9375"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="145" x="91" y="223.0762">load MediaItem from DB</text><polygon fill="#FEFECE" filter="url(#fmpw62ccjml09)" points="101.5,255.9063,225.5,255.9063,237.5,267.9063,225.5,279.9063,101.5,279.9063,89.5,267.9063,101.5,255.9063" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="124" x="101.5" y="271.7144">mediaItems.isEmpty()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="22" x="237.5" y="265.312">YES</text><ellipse cx="281.5" cy="267.9063" fill="#FFFFFF" filter="url(#fmpw62ccjml09)" rx="11" ry="11" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="281.5" cy="267.9063" fill="#000000" rx="6" ry="6" style="stroke: #7F7F7F; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#fmpw62ccjml09)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="160" x="83.5" y="343.9063"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="140" x="93.5" y="365.0449">Show MediaItem image</text><rect fill="#FEFECE" filter="url(#fmpw62ccjml09)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="116" x="105.5" y="412.875"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="96" x="115.5" y="434.0137">Wait a few secs</text><rect fill="#FEFECE" filter="url(#fmpw62ccjml09)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="174" x="76.5" y="525.8125"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="154" x="86.5" y="546.9512">Request background task</text><polygon fill="#FEFECE" filter="url(#fmpw62ccjml09)" points="133,477.4102,194,477.4102,206,489.4102,194,501.4102,133,501.4102,121,489.4102,133,477.4102" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="22" x="167.5" y="511.6206">YES</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="61" x="133" y="493.2183">LastIndex?</text><polygon fill="#FEFECE" filter="url(#fmpw62ccjml09)" points="163.5,579.7813,175.5,591.7813,163.5,603.7813,151.5,591.7813,163.5,579.7813" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#FEFECE" filter="url(#fmpw62ccjml09)" points="163.5,299.9063,175.5,311.9063,163.5,323.9063,151.5,311.9063,163.5,299.9063" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#FEFECE" filter="url(#fmpw62ccjml09)" points="32,623.7813,295,623.7813,307,635.7813,295,647.7813,32,647.7813,20,635.7813,32,623.7813" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="263" x="32" y="639.5894">No received DB update by background thread</text><rect fill="#FEFECE" filter="url(#fmpw62ccjml09)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="84" x="317" y="456.8438"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="64" x="327" y="477.9824">Next Index</text><polygon fill="#FEFECE" filter="url(#fmpw62ccjml09)" points="163.5,157.9375,175.5,169.9375,163.5,181.9375,151.5,169.9375,163.5,157.9375" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="163.5" x2="163.5" y1="30" y2="50"/><polygon fill="#A80036" points="159.5,40,163.5,50,167.5,40,163.5,44" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="163.5" x2="163.5" y1="83.9688" y2="103.9688"/><polygon fill="#A80036" points="159.5,93.9688,163.5,103.9688,167.5,93.9688,163.5,97.9688" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="163.5" x2="163.5" y1="279.9063" y2="299.9063"/><polygon fill="#A80036" points="159.5,289.9063,163.5,299.9063,167.5,289.9063,163.5,293.9063" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="237.5" x2="270.5" y1="267.9063" y2="267.9063"/><polygon fill="#A80036" points="260.5,263.9063,270.5,267.9063,260.5,271.9063,264.5,267.9063" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="163.5" x2="163.5" y1="235.9063" y2="255.9063"/><polygon fill="#A80036" points="159.5,245.9063,163.5,255.9063,167.5,245.9063,163.5,249.9063" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="163.5" x2="163.5" y1="377.875" y2="412.875"/><polygon fill="#A80036" points="159.5,402.875,163.5,412.875,167.5,402.875,163.5,406.875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="163.5" x2="163.5" y1="501.4102" y2="525.8125"/><polygon fill="#A80036" points="159.5,515.8125,163.5,525.8125,167.5,515.8125,163.5,519.8125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="206" x2="260.5" y1="489.4102" y2="489.4102"/><polygon fill="#A80036" points="256.5,532.7969,260.5,542.7969,264.5,532.7969,260.5,536.7969" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="260.5" x2="260.5" y1="489.4102" y2="591.7813"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="260.5" x2="175.5" y1="591.7813" y2="591.7813"/><polygon fill="#A80036" points="185.5,587.7813,175.5,591.7813,185.5,595.7813,181.5,591.7813" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="163.5" x2="163.5" y1="559.7813" y2="579.7813"/><polygon fill="#A80036" points="159.5,569.7813,163.5,579.7813,167.5,569.7813,163.5,573.7813" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="163.5" x2="163.5" y1="446.8438" y2="477.4102"/><polygon fill="#A80036" points="159.5,467.4102,163.5,477.4102,167.5,467.4102,163.5,471.4102" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="163.5" x2="163.5" y1="323.9063" y2="343.9063"/><polygon fill="#A80036" points="159.5,333.9063,163.5,343.9063,167.5,333.9063,163.5,337.9063" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="307" x2="359" y1="635.7813" y2="635.7813"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="359" x2="359" y1="490.8125" y2="635.7813"/><polygon fill="#A80036" points="355,500.8125,359,490.8125,363,500.8125,359,496.8125" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="355,382.5918,359,372.5918,363,382.5918,359,378.5918" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="359" x2="359" y1="311.9063" y2="456.8438"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="359" x2="175.5" y1="311.9063" y2="311.9063"/><polygon fill="#A80036" points="185.5,307.9063,175.5,311.9063,185.5,315.9063,181.5,311.9063" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="163.5" x2="163.5" y1="603.7813" y2="623.7813"/><polygon fill="#A80036" points="159.5,613.7813,163.5,623.7813,167.5,613.7813,163.5,617.7813" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="163.5" x2="163.5" y1="181.9375" y2="201.9375"/><polygon fill="#A80036" points="159.5,191.9375,163.5,201.9375,167.5,191.9375,163.5,195.9375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="163.5" x2="163.5" y1="647.7813" y2="695.7813"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="163.5" x2="413" y1="695.7813" y2="695.7813"/><polygon fill="#A80036" points="409,394.2773,413,384.2773,417,394.2773,413,390.2773" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="413" x2="413" y1="169.9375" y2="695.7813"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="413" x2="175.5" y1="169.9375" y2="169.9375"/><polygon fill="#A80036" points="185.5,165.9375,175.5,169.9375,185.5,173.9375,181.5,169.9375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="163.5" x2="163.5" y1="137.9375" y2="157.9375"/><polygon fill="#A80036" points="159.5,147.9375,163.5,157.9375,167.5,147.9375,163.5,151.9375" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[733d6721c0c6d6bca2939e0b39add6bc]
@startuml
start

:Show Progress;
:Request background task;

repeat
  :load MediaItem from DB;
  
  if (mediaItems.isEmpty()) then (YES)
    stop
  endif

  repeat
    :Show MediaItem image;
    :Wait a few secs;

    if (LastIndex?) then (YES)
      :Request background task;
    endif

    backward:Next Index;
  repeat while (No received DB update by background thread)

repeat while
@enduml

PlantUML version 1.2020.15beta1(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>