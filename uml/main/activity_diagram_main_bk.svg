<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="899px" preserveAspectRatio="none" style="width:358px;height:899px;" version="1.1" viewBox="0 0 358 899" width="358px" zoomAndPan="magnify"><defs><filter height="300%" id="fyef3tip5twln" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FEFECE" filter="url(#fyef3tip5twln)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="211" x="63" y="11"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="191" x="73" y="32.1387">requestUpdateDisplayedPhotos</text><polygon fill="#FEFECE" filter="url(#fyef3tip5twln)" points="102,64.9688,235,64.9688,247,76.9688,235,88.9688,102,88.9688,90,76.9688,102,64.9688" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="133" x="102" y="80.7769">isNeededUpdatePhotos</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="17" x="247" y="74.3745">NO</text><ellipse cx="286" cy="76.9688" fill="#FFFFFF" filter="url(#fyef3tip5twln)" rx="11" ry="11" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="286" cy="76.9688" fill="#000000" rx="6" ry="6" style="stroke: #7F7F7F; stroke-width: 1.0;"/><rect fill="#FFFFFF" filter="url(#fyef3tip5twln)" height="274.668" style="stroke: #000000; stroke-width: 2.0;" width="276.5" x="64.5" y="98.9688"/><path d="M170.5,98.9688 L170.5,108.2656 L160.5,118.2656 L64.5,118.2656 " fill="none" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="96" x="67.5" y="112.9639">DecideAlbum</text><rect fill="#FEFECE" filter="url(#fyef3tip5twln)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="128" x="104.5" y="183.668"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="108" x="114.5" y="204.8066">startSelectActivity</text><rect fill="#FEFECE" filter="url(#fyef3tip5twln)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="114" x="111.5" y="237.6367"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="94" x="121.5" y="258.7754">onActivityResult</text><polygon fill="#FEFECE" filter="url(#fyef3tip5twln)" points="96.5,293.6367,240.5,293.6367,252.5,305.6367,240.5,317.6367,96.5,317.6367,84.5,305.6367,96.5,293.6367" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="144" x="96.5" y="309.4448">Is selected album found?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="17" x="252.5" y="303.0425">NO</text><ellipse cx="291.5" cy="305.6367" fill="#FFFFFF" filter="url(#fyef3tip5twln)" rx="11" ry="11" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="291.5" cy="305.6367" fill="#000000" rx="6" ry="6" style="stroke: #7F7F7F; stroke-width: 1.0;"/><polygon fill="#FEFECE" filter="url(#fyef3tip5twln)" points="111.5,135.2656,225.5,135.2656,237.5,147.2656,225.5,159.2656,111.5,159.2656,99.5,147.2656,111.5,135.2656" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="17" x="172.5" y="169.4761">NO</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="114" x="111.5" y="151.0737">hasSelectedAlbums</text><polygon fill="#FEFECE" filter="url(#fyef3tip5twln)" points="168.5,337.6367,180.5,349.6367,168.5,361.6367,156.5,349.6367,168.5,337.6367" style="stroke: #A80036; stroke-width: 1.5;"/><rect fill="#FFFFFF" filter="url(#fyef3tip5twln)" height="256.2031" style="stroke: #000000; stroke-width: 2.0;" width="318" x="11" y="383.6367"/><path d="M142,383.6367 L142,392.9336 L132,402.9336 L11,402.9336 " fill="none" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="121" x="14" y="397.6318">DownloadImages</text><rect fill="#FEFECE" filter="url(#fyef3tip5twln)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="246" x="45.5" y="463.9336"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="226" x="55.5" y="485.0723">PhotosLibraryApi#requestMediaItems</text><rect fill="#FEFECE" filter="url(#fyef3tip5twln)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="214" x="61.5" y="517.9023"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="194" x="71.5" y="539.041">Make random photo MediaItems</text><rect fill="#FEFECE" filter="url(#fyef3tip5twln)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="259" x="39" y="571.8711"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="239" x="49" y="593.0098">PhotosDownloader#requestMediaItems</text><polygon fill="#FEFECE" filter="url(#fyef3tip5twln)" points="99.5,419.9336,237.5,419.9336,249.5,431.9336,237.5,443.9336,99.5,443.9336,87.5,431.9336,99.5,419.9336" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="138" x="99.5" y="435.7417">selectedAlbums.foreach</text><rect fill="#FFFFFF" filter="url(#fyef3tip5twln)" height="136.2344" style="stroke: #000000; stroke-width: 2.0;" width="234" x="51.5" y="649.8398"/><path d="M181.5,649.8398 L181.5,659.1367 L171.5,669.1367 L51.5,669.1367 " fill="none" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="120" x="54.5" y="663.835">UpdateDatabase</text><rect fill="#FEFECE" filter="url(#fyef3tip5twln)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="214" x="61.5" y="686.1367"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="194" x="71.5" y="707.2754">Database#replaceSelectedData</text><rect fill="#FEFECE" filter="url(#fyef3tip5twln)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="187" x="75" y="740.1055"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="167" x="85" y="761.2441">Database#findUserInfoData</text><rect fill="#FEFECE" filter="url(#fyef3tip5twln)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="187" x="75" y="806.0742"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="167" x="85" y="827.2129">requestUpdatePhotosResult</text><ellipse cx="168.5" cy="871.043" fill="#FFFFFF" filter="url(#fyef3tip5twln)" rx="11" ry="11" style="stroke: #000000; stroke-width: 1.0;"/><ellipse cx="168.5" cy="871.043" fill="#000000" rx="6" ry="6" style="stroke: #7F7F7F; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="168.5" x2="168.5" y1="88.9688" y2="135.2656"/><polygon fill="#A80036" points="164.5,125.2656,168.5,135.2656,172.5,125.2656,168.5,129.2656" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="247" x2="275" y1="76.9688" y2="76.9688"/><polygon fill="#A80036" points="265,72.9688,275,76.9688,265,80.9688,269,76.9688" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="168.5" x2="168.5" y1="44.9688" y2="64.9688"/><polygon fill="#A80036" points="164.5,54.9688,168.5,64.9688,172.5,54.9688,168.5,58.9688" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="168.5" x2="168.5" y1="217.6367" y2="237.6367"/><polygon fill="#A80036" points="164.5,227.6367,168.5,237.6367,172.5,227.6367,168.5,231.6367" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="168.5" x2="168.5" y1="317.6367" y2="337.6367"/><polygon fill="#A80036" points="164.5,327.6367,168.5,337.6367,172.5,327.6367,168.5,331.6367" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="252.5" x2="280.5" y1="305.6367" y2="305.6367"/><polygon fill="#A80036" points="270.5,301.6367,280.5,305.6367,270.5,309.6367,274.5,305.6367" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="168.5" x2="168.5" y1="271.6055" y2="293.6367"/><polygon fill="#A80036" points="164.5,283.6367,168.5,293.6367,172.5,283.6367,168.5,287.6367" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="168.5" x2="168.5" y1="159.2656" y2="183.668"/><polygon fill="#A80036" points="164.5,173.668,168.5,183.668,172.5,173.668,168.5,177.668" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="237.5" x2="324.5" y1="147.2656" y2="147.2656"/><polygon fill="#A80036" points="320.5,263.6367,324.5,273.6367,328.5,263.6367,324.5,267.6367" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="324.5" x2="324.5" y1="147.2656" y2="349.6367"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="324.5" x2="180.5" y1="349.6367" y2="349.6367"/><polygon fill="#A80036" points="190.5,345.6367,180.5,349.6367,190.5,353.6367,186.5,349.6367" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="168.5" x2="168.5" y1="497.9023" y2="517.9023"/><polygon fill="#A80036" points="164.5,507.9023,168.5,517.9023,172.5,507.9023,168.5,511.9023" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="168.5" x2="168.5" y1="551.8711" y2="571.8711"/><polygon fill="#A80036" points="164.5,561.8711,168.5,571.8711,172.5,561.8711,168.5,565.8711" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="168.5" x2="168.5" y1="443.9336" y2="463.9336"/><polygon fill="#A80036" points="164.5,453.9336,168.5,463.9336,172.5,453.9336,168.5,457.9336" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="168.5" x2="168.5" y1="605.8398" y2="615.8398"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="168.5" x2="310" y1="615.8398" y2="615.8398"/><polygon fill="#A80036" points="306,532.8867,310,522.8867,314,532.8867,310,528.8867" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="310" x2="310" y1="431.9336" y2="615.8398"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="310" x2="249.5" y1="431.9336" y2="431.9336"/><polygon fill="#A80036" points="259.5,427.9336,249.5,431.9336,259.5,435.9336,255.5,431.9336" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="87.5" x2="27" y1="431.9336" y2="431.9336"/><polygon fill="#A80036" points="23,518.8867,27,528.8867,31,518.8867,27,522.8867" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="27" x2="27" y1="431.9336" y2="627.8398"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="27" x2="168.5" y1="627.8398" y2="627.8398"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="168.5" x2="168.5" y1="627.8398" y2="686.1367"/><polygon fill="#A80036" points="164.5,676.1367,168.5,686.1367,172.5,676.1367,168.5,680.1367" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="168.5" x2="168.5" y1="361.6367" y2="419.9336"/><polygon fill="#A80036" points="164.5,409.9336,168.5,419.9336,172.5,409.9336,168.5,413.9336" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="168.5" x2="168.5" y1="720.1055" y2="740.1055"/><polygon fill="#A80036" points="164.5,730.1055,168.5,740.1055,172.5,730.1055,168.5,734.1055" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="168.5" x2="168.5" y1="774.0742" y2="806.0742"/><polygon fill="#A80036" points="164.5,796.0742,168.5,806.0742,172.5,796.0742,168.5,800.0742" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="168.5" x2="168.5" y1="840.043" y2="860.043"/><polygon fill="#A80036" points="164.5,850.043,168.5,860.043,172.5,850.043,168.5,854.043" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[4389adb2452a540c00e5601424639435]
@startuml
:requestUpdateDisplayedPhotos;

if (isNeededUpdatePhotos) then (NO)
  stop
endif

partition DecideAlbum {
  if (hasSelectedAlbums) then (NO)
    :startSelectActivity;
    :onActivityResult;

    if (Is selected album found?) then (NO)
      stop
    endif
  endif
}

partition DownloadImages {
  while (selectedAlbums.foreach)
    :PhotosLibraryApi#requestMediaItems;
    :Make random photo MediaItems;
    :PhotosDownloader#requestMediaItems;
  end while
}

partition UpdateDatabase {
  :Database#replaceSelectedData;
  :Database#findUserInfoData;
}

:requestUpdatePhotosResult;
stop
@enduml

PlantUML version 1.2020.16beta7(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>