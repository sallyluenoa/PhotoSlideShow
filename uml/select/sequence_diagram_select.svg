<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="665px" preserveAspectRatio="none" style="width:1132px;height:665px;" version="1.1" viewBox="0 0 1132 665" width="1132px" zoomAndPan="magnify"><defs><filter height="300%" id="f1vzyqzsdfya53" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFEE" height="650.8516" style="stroke: #A80036; stroke-width: 1.0;" width="778.5" x="72" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="439.25" y="16.0669">VIPER</text><rect fill="#FFEEFF" height="650.8516" style="stroke: #A80036; stroke-width: 1.0;" width="124" x="852.5" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="72" x="878.5" y="16.0669">Database</text><rect fill="#EEFFFF" height="650.8516" style="stroke: #A80036; stroke-width: 1.0;" width="141" x="978.5" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="62" x="1018" y="16.0669">Web API</text><rect fill="#FFFFFF" filter="url(#f1vzyqzsdfya53)" height="326.3281" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="97" y="68.4297"/><rect fill="#FFFFFF" filter="url(#f1vzyqzsdfya53)" height="131.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="97" y="467.0234"/><rect fill="#FFFFFF" filter="url(#f1vzyqzsdfya53)" height="205.9297" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="408" y="132.6953"/><rect fill="#FFFFFF" filter="url(#f1vzyqzsdfya53)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="408" y="569.4219"/><rect fill="#FFFFFF" filter="url(#f1vzyqzsdfya53)" height="147.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="719" y="161.8281"/><rect fill="#FFFFFF" filter="url(#f1vzyqzsdfya53)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1044" y="190.9609"/><rect fill="#FFFFFF" filter="url(#f1vzyqzsdfya53)" height="46.2656" style="stroke: #000000; stroke-width: 2.0;" width="314" x="668.5" y="235.0938"/><rect fill="#FFFFFF" filter="url(#f1vzyqzsdfya53)" height="59.2656" style="stroke: #000000; stroke-width: 2.0;" width="271" x="66" y="482.0234"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="102" x2="102" y1="58.4297" y2="616.5547"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="412.5" x2="412.5" y1="58.4297" y2="616.5547"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="723.5" x2="723.5" y1="58.4297" y2="616.5547"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="812.5" x2="812.5" y1="58.4297" y2="616.5547"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="914.5" x2="914.5" y1="58.4297" y2="616.5547"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1048.5" x2="1048.5" y1="58.4297" y2="616.5547"/><rect fill="#FEFECE" filter="url(#f1vzyqzsdfya53)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="48" x="76" y="23.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="34" x="83" y="43.1279">View</text><rect fill="#FEFECE" filter="url(#f1vzyqzsdfya53)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="48" x="76" y="615.5547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="34" x="83" y="635.5498">View</text><rect fill="#FEFECE" filter="url(#f1vzyqzsdfya53)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="85" x="368.5" y="23.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="71" x="375.5" y="43.1279">Presenter</text><rect fill="#FEFECE" filter="url(#f1vzyqzsdfya53)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="85" x="368.5" y="615.5547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="71" x="375.5" y="635.5498">Presenter</text><rect fill="#FEFECE" filter="url(#f1vzyqzsdfya53)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="87" x="678.5" y="23.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="685.5" y="43.1279">Interactor</text><rect fill="#FEFECE" filter="url(#f1vzyqzsdfya53)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="87" x="678.5" y="615.5547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="685.5" y="635.5498">Interactor</text><rect fill="#FEFECE" filter="url(#f1vzyqzsdfya53)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="63" x="779.5" y="23.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="786.5" y="43.1279">Router</text><rect fill="#FEFECE" filter="url(#f1vzyqzsdfya53)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="63" x="779.5" y="615.5547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="786.5" y="635.5498">Router</text><rect fill="#FEFECE" filter="url(#f1vzyqzsdfya53)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="856.5" y="23.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="98" x="863.5" y="43.1279">AppDatabase</text><rect fill="#FEFECE" filter="url(#f1vzyqzsdfya53)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="856.5" y="615.5547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="98" x="863.5" y="635.5498">AppDatabase</text><rect fill="#FEFECE" filter="url(#f1vzyqzsdfya53)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="129" x="982.5" y="23.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="115" x="989.5" y="43.1279">GoogleWebApis</text><rect fill="#FEFECE" filter="url(#f1vzyqzsdfya53)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="129" x="982.5" y="615.5547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="115" x="989.5" y="635.5498">GoogleWebApis</text><rect fill="#FFFFFF" filter="url(#f1vzyqzsdfya53)" height="326.3281" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="97" y="68.4297"/><rect fill="#FFFFFF" filter="url(#f1vzyqzsdfya53)" height="131.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="97" y="467.0234"/><rect fill="#FFFFFF" filter="url(#f1vzyqzsdfya53)" height="205.9297" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="408" y="132.6953"/><rect fill="#FFFFFF" filter="url(#f1vzyqzsdfya53)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="408" y="569.4219"/><rect fill="#FFFFFF" filter="url(#f1vzyqzsdfya53)" height="147.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="719" y="161.8281"/><rect fill="#FFFFFF" filter="url(#f1vzyqzsdfya53)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1044" y="190.9609"/><rect fill="#EEEEEE" filter="url(#f1vzyqzsdfya53)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1117.5" x="3" y="88.9961"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1120.5" y1="88.9961" y2="88.9961"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1120.5" y1="91.9961" y2="91.9961"/><rect fill="#EEEEEE" filter="url(#f1vzyqzsdfya53)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="171" x="476.25" y="78.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="152" x="482.25" y="94.4966">Load Shared Albums</text><polygon fill="#A80036" points="396,128.6953,406,132.6953,396,136.6953,400,132.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="107" x2="402" y1="132.6953" y2="132.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="173" x="114" y="127.6294">requestLoadSharedAlbums</text><polygon fill="#A80036" points="707,157.8281,717,161.8281,707,165.8281,711,161.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="418" x2="713" y1="161.8281" y2="161.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="173" x="425" y="156.7622">requestLoadSharedAlbums</text><polygon fill="#A80036" points="1032,186.9609,1042,190.9609,1032,194.9609,1036,190.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="729" x2="1038" y1="190.9609" y2="190.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="142" x="736" y="185.895">requestSharedAlbums</text><polygon fill="#A80036" points="740,216.0938,730,220.0938,740,224.0938,736,220.0938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="734" x2="1048" y1="220.0938" y2="220.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="165" x="746" y="215.0278">PhotosApiResult&lt;Album&gt;</text><path d="M668.5,235.0938 L740.5,235.0938 L740.5,242.0938 L730.5,252.0938 L668.5,252.0938 L668.5,235.0938 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="46.2656" style="stroke: #000000; stroke-width: 2.0;" width="314" x="668.5" y="235.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27" x="683.5" y="248.1606">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="202" x="755.5" y="247.3042">[Is result.tokenInfo updated?]</text><polygon fill="#A80036" points="902.5,269.3594,912.5,273.3594,902.5,277.3594,906.5,273.3594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="729" x2="908.5" y1="273.3594" y2="273.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="736" y="268.2935">updateUserInfo</text><polygon fill="#A80036" points="429,305.4922,419,309.4922,429,313.4922,425,309.4922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="423" x2="723" y1="309.4922" y2="309.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="277" x="435" y="304.4263">Callback#requestLoadSharedAlbumsResult</text><polygon fill="#A80036" points="118,334.625,108,338.625,118,342.625,114,338.625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="112" x2="412" y1="338.625" y2="338.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="277" x="124" y="333.5591">Callback#requestLoadSharedAlbumsResult</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="107" x2="149" y1="367.7578" y2="367.7578"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="149" x2="149" y1="367.7578" y2="380.7578"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="108" x2="149" y1="380.7578" y2="380.7578"/><polygon fill="#A80036" points="118,376.7578,108,380.7578,118,384.7578,114,380.7578" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="138" x="114" y="362.6919">Show shared albums.</text><polygon fill="#A80036" points="14,390.7578,4,394.7578,14,398.7578,10,394.7578" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="8" x2="101" y1="394.7578" y2="394.7578"/><rect fill="#EEEEEE" filter="url(#f1vzyqzsdfya53)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1117.5" x="3" y="423.3242"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1120.5" y1="423.3242" y2="423.3242"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1120.5" y1="426.3242" y2="426.3242"/><rect fill="#EEEEEE" filter="url(#f1vzyqzsdfya53)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="145" x="489.25" y="412.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="126" x="495.25" y="428.8247">Selected by User</text><polygon fill="#A80036" points="85,463.0234,95,467.0234,85,471.0234,89,467.0234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="3" x2="91" y1="467.0234" y2="467.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="75" x="10" y="461.9575">User select.</text><path d="M66,482.0234 L138,482.0234 L138,489.0234 L128,499.0234 L66,499.0234 L66,482.0234 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="59.2656" style="stroke: #000000; stroke-width: 2.0;" width="271" x="66" y="482.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27" x="81" y="495.0903">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="179" x="153" y="494.2339">[Album is selected by user]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="107" x2="149" y1="520.2891" y2="520.2891"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="149" x2="149" y1="520.2891" y2="533.2891"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="108" x2="149" y1="533.2891" y2="533.2891"/><polygon fill="#A80036" points="118,529.2891,108,533.2891,118,537.2891,114,533.2891" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="171" x="114" y="515.2231">set RESULT_OK and Album</text><polygon fill="#A80036" points="396,565.4219,406,569.4219,396,573.4219,400,569.4219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="107" x2="402" y1="569.4219" y2="569.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="114" y="564.356">destroy</text><polygon fill="#A80036" points="712,594.5547,722,598.5547,712,602.5547,716,598.5547" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="413" x2="718" y1="598.5547" y2="598.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="420" y="593.4888">destroy</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="715" x2="733" y1="589.5547" y2="607.5547"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="715" x2="733" y1="607.5547" y2="589.5547"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="404" x2="422" y1="589.5547" y2="607.5547"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="404" x2="422" y1="607.5547" y2="589.5547"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="93" x2="111" y1="589.5547" y2="607.5547"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="93" x2="111" y1="607.5547" y2="589.5547"/><!--MD5=[c6f7ee63f687bd2887c231418338f62c]
@startuml
box "VIPER" #FFFFEE
  participant View
  participant Presenter
  participant Interactor
  participant Router
end box

box "Database" #FFEEFF
  participant AppDatabase
end box

box "Web API" #EEFFFF
  participant GoogleWebApis
end box

== Load Shared Albums ==

View++
View -> Presenter++: requestLoadSharedAlbums
  Presenter -> Interactor++: requestLoadSharedAlbums

    Interactor -> GoogleWebApis++: requestSharedAlbums
    return PhotosApiResult<Album>

    opt Is result.tokenInfo updated?
      Interactor -> AppDatabase: updateUserInfo
    end

  return Callback#requestLoadSharedAlbumsResult
return Callback#requestLoadSharedAlbumsResult

View -> View: Show shared albums.
[<- - View- -

== Selected by User ==

[-> View++: User select.

opt Album is selected by user
  View -> View: set RESULT_OK and Album
end

View -> Presenter++: destroy
Presenter -> Interactor!!: destroy
destroy Presenter
destroy View
@enduml

PlantUML version 1.2020.16beta10(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>