<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="691px" preserveAspectRatio="none" style="width:859px;height:691px;" version="1.1" viewBox="0 0 859 691" width="859px" zoomAndPan="magnify"><defs><filter height="300%" id="fkic5npjdnnbl" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFEE" height="679.9844" style="stroke:#A80036;stroke-width:1.0;" width="499.5" x="69" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="296.75" y="18.0669">VIPER</text><rect fill="#FFEEFF" height="679.9844" style="stroke:#A80036;stroke-width:1.0;" width="124" x="584" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="72" x="610" y="18.0669">Database</text><rect fill="#EEFFFF" height="679.9844" style="stroke:#A80036;stroke-width:1.0;" width="141" x="710" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="62" x="749.5" y="18.0669">Web API</text><rect fill="#FFFFFF" filter="url(#fkic5npjdnnbl)" height="291.1953" style="stroke:#A80036;stroke-width:1.0;" width="10" x="94" y="134.6953"/><rect fill="#FFFFFF" filter="url(#fkic5npjdnnbl)" height="131.5313" style="stroke:#A80036;stroke-width:1.0;" width="10" x="94" y="498.1563"/><rect fill="#FFFFFF" filter="url(#fkic5npjdnnbl)" height="205.9297" style="stroke:#A80036;stroke-width:1.0;" width="10" x="304" y="163.8281"/><rect fill="#FFFFFF" filter="url(#fkic5npjdnnbl)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="304" y="600.5547"/><rect fill="#FFFFFF" filter="url(#fkic5npjdnnbl)" height="147.6641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="514" y="192.9609"/><rect fill="#FFFFFF" filter="url(#fkic5npjdnnbl)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="775.5" y="222.0938"/><rect fill="#FFFFFF" filter="url(#fkic5npjdnnbl)" height="46.2656" style="stroke:#000000;stroke-width:2.0;" width="294" x="463.5" y="266.2266"/><rect fill="#FFFFFF" filter="url(#fkic5npjdnnbl)" height="59.2656" style="stroke:#000000;stroke-width:2.0;" width="271" x="63" y="513.1563"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="99" x2="99" y1="60.4297" y2="647.6875"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="308.5" x2="308.5" y1="60.4297" y2="647.6875"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="518.5" x2="518.5" y1="60.4297" y2="647.6875"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="646" x2="646" y1="60.4297" y2="647.6875"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="780" x2="780" y1="60.4297" y2="647.6875"/><rect fill="#FEFECE" filter="url(#fkic5npjdnnbl)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="48" x="73" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="34" x="80" y="45.1279">View</text><rect fill="#FEFECE" filter="url(#fkic5npjdnnbl)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="48" x="73" y="646.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="34" x="80" y="666.6826">View</text><rect fill="#FEFECE" filter="url(#fkic5npjdnnbl)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="85" x="264.5" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="71" x="271.5" y="45.1279">Presenter</text><rect fill="#FEFECE" filter="url(#fkic5npjdnnbl)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="85" x="264.5" y="646.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="71" x="271.5" y="666.6826">Presenter</text><rect fill="#FEFECE" filter="url(#fkic5npjdnnbl)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="87" x="473.5" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="480.5" y="45.1279">Interactor</text><rect fill="#FEFECE" filter="url(#fkic5npjdnnbl)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="87" x="473.5" y="646.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="480.5" y="666.6826">Interactor</text><rect fill="#FEFECE" filter="url(#fkic5npjdnnbl)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="112" x="588" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="98" x="595" y="45.1279">AppDatabase</text><rect fill="#FEFECE" filter="url(#fkic5npjdnnbl)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="112" x="588" y="646.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="98" x="595" y="666.6826">AppDatabase</text><rect fill="#FEFECE" filter="url(#fkic5npjdnnbl)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="129" x="714" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="115" x="721" y="45.1279">GoogleWebApis</text><rect fill="#FEFECE" filter="url(#fkic5npjdnnbl)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="129" x="714" y="646.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="115" x="721" y="666.6826">GoogleWebApis</text><rect fill="#FFFFFF" filter="url(#fkic5npjdnnbl)" height="291.1953" style="stroke:#A80036;stroke-width:1.0;" width="10" x="94" y="134.6953"/><rect fill="#FFFFFF" filter="url(#fkic5npjdnnbl)" height="131.5313" style="stroke:#A80036;stroke-width:1.0;" width="10" x="94" y="498.1563"/><rect fill="#FFFFFF" filter="url(#fkic5npjdnnbl)" height="205.9297" style="stroke:#A80036;stroke-width:1.0;" width="10" x="304" y="163.8281"/><rect fill="#FFFFFF" filter="url(#fkic5npjdnnbl)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="304" y="600.5547"/><rect fill="#FFFFFF" filter="url(#fkic5npjdnnbl)" height="147.6641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="514" y="192.9609"/><rect fill="#FFFFFF" filter="url(#fkic5npjdnnbl)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="775.5" y="222.0938"/><rect fill="#EEEEEE" filter="url(#fkic5npjdnnbl)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="852" x="0" y="90.9961"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="852" y1="90.9961" y2="90.9961"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="852" y1="93.9961" y2="93.9961"/><rect fill="#EEEEEE" filter="url(#fkic5npjdnnbl)" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="171" x="340.5" y="80.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="152" x="346.5" y="96.4966">Load Shared Albums</text><polygon fill="#A80036" points="82,130.6953,92,134.6953,82,138.6953,86,134.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="0" x2="88" y1="134.6953" y2="134.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="59" x="7" y="129.6294">onCreate</text><polygon fill="#A80036" points="292,159.8281,302,163.8281,292,167.8281,296,163.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="104" x2="298" y1="163.8281" y2="163.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="41" x="111" y="158.7622">create</text><polygon fill="#A80036" points="502,188.9609,512,192.9609,502,196.9609,506,192.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="314" x2="508" y1="192.9609" y2="192.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="41" x="321" y="187.895">create</text><polygon fill="#A80036" points="763.5,218.0938,773.5,222.0938,763.5,226.0938,767.5,222.0938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="524" x2="769.5" y1="222.0938" y2="222.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="142" x="531" y="217.0278">requestSharedAlbums</text><polygon fill="#A80036" points="535,247.2266,525,251.2266,535,255.2266,531,251.2266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="529" x2="779.5" y1="251.2266" y2="251.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="165" x="541" y="246.1606">PhotosApiResult&lt;Album&gt;</text><path d="M463.5,266.2266 L535.5,266.2266 L535.5,273.2266 L525.5,283.2266 L463.5,283.2266 L463.5,266.2266 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="46.2656" style="stroke:#000000;stroke-width:2.0;" width="294" x="463.5" y="266.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27" x="478.5" y="279.2935">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="202" x="550.5" y="278.437">[Is result.tokenInfo updated?]</text><polygon fill="#A80036" points="634,300.4922,644,304.4922,634,308.4922,638,304.4922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="524" x2="640" y1="304.4922" y2="304.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="531" y="299.4263">updateUserInfo</text><polygon fill="#A80036" points="325,336.625,315,340.625,325,344.625,321,340.625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="319" x2="518" y1="340.625" y2="340.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="176" x="331" y="335.5591">Callback#createLoadResult</text><polygon fill="#A80036" points="115,365.7578,105,369.7578,115,373.7578,111,369.7578" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="109" x2="308" y1="369.7578" y2="369.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="176" x="121" y="364.6919">Callback#createLoadResult</text><line style="stroke:#A80036;stroke-width:1.0;" x1="104" x2="146" y1="398.8906" y2="398.8906"/><line style="stroke:#A80036;stroke-width:1.0;" x1="146" x2="146" y1="398.8906" y2="411.8906"/><line style="stroke:#A80036;stroke-width:1.0;" x1="105" x2="146" y1="411.8906" y2="411.8906"/><polygon fill="#A80036" points="115,407.8906,105,411.8906,115,415.8906,111,411.8906" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="138" x="111" y="393.8247">Show shared albums.</text><polygon fill="#A80036" points="11,421.8906,1,425.8906,11,429.8906,7,425.8906" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="5" x2="98" y1="425.8906" y2="425.8906"/><rect fill="#EEEEEE" filter="url(#fkic5npjdnnbl)" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="852" x="0" y="454.457"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="852" y1="454.457" y2="454.457"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="852" y1="457.457" y2="457.457"/><rect fill="#EEEEEE" filter="url(#fkic5npjdnnbl)" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="145" x="353.5" y="443.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="126" x="359.5" y="459.9575">Selected by User</text><polygon fill="#A80036" points="82,494.1563,92,498.1563,82,502.1563,86,498.1563" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="0" x2="88" y1="498.1563" y2="498.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="75" x="7" y="493.0903">User select.</text><path d="M63,513.1563 L135,513.1563 L135,520.1563 L125,530.1563 L63,530.1563 L63,513.1563 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="59.2656" style="stroke:#000000;stroke-width:2.0;" width="271" x="63" y="513.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27" x="78" y="526.2231">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="179" x="150" y="525.3667">[Album is selected by user]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="104" x2="146" y1="551.4219" y2="551.4219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="146" x2="146" y1="551.4219" y2="564.4219"/><line style="stroke:#A80036;stroke-width:1.0;" x1="105" x2="146" y1="564.4219" y2="564.4219"/><polygon fill="#A80036" points="115,560.4219,105,564.4219,115,568.4219,111,564.4219" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="171" x="111" y="546.356">set RESULT_OK and Album</text><polygon fill="#A80036" points="292,596.5547,302,600.5547,292,604.5547,296,600.5547" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="104" x2="298" y1="600.5547" y2="600.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="111" y="595.4888">destroy</text><polygon fill="#A80036" points="507,625.6875,517,629.6875,507,633.6875,511,629.6875" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="309" x2="513" y1="629.6875" y2="629.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="316" y="624.6216">destroy</text><line style="stroke:#A80036;stroke-width:2.0;" x1="510" x2="528" y1="620.6875" y2="638.6875"/><line style="stroke:#A80036;stroke-width:2.0;" x1="510" x2="528" y1="638.6875" y2="620.6875"/><line style="stroke:#A80036;stroke-width:2.0;" x1="300" x2="318" y1="620.6875" y2="638.6875"/><line style="stroke:#A80036;stroke-width:2.0;" x1="300" x2="318" y1="638.6875" y2="620.6875"/><line style="stroke:#A80036;stroke-width:2.0;" x1="90" x2="108" y1="620.6875" y2="638.6875"/><line style="stroke:#A80036;stroke-width:2.0;" x1="90" x2="108" y1="638.6875" y2="620.6875"/><!--MD5=[635e23d19b9e41a9d9728cadbf2cffe2]
@startuml
box "VIPER" #FFFFEE
  participant View
  participant Presenter
  participant Interactor
end box

box "Database" #FFEEFF
  participant AppDatabase
end box

box "Web API" #EEFFFF
  participant GoogleWebApis
end box

== Load Shared Albums ==

[-> View: onCreate
View++
View -> Presenter++: create
  Presenter -> Interactor++: create

    Interactor -> GoogleWebApis++: requestSharedAlbums
    return PhotosApiResult<Album>

    opt Is result.tokenInfo updated?
      Interactor -> AppDatabase: updateUserInfo
    end

  return Callback#createLoadResult
return Callback#createLoadResult

View -> View: Show shared albums.
[<- - View- -

== Selected by User ==

[-> View++: User select.

opt Album is selected by user
  View -> View: set RESULT_OK and Album
end

View -> Presenter++: destroy
Presenter -> Interactor!!: destroy
destroy Presenter
destroy View
@enduml

PlantUML version 1.2020.21beta7(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>