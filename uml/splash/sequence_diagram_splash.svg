<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2282px" preserveAspectRatio="none" style="width:1246px;height:2282px;" version="1.1" viewBox="0 0 1246 2282" width="1246px" zoomAndPan="magnify"><defs><filter height="300%" id="fe52tm2zw5pce" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFEE" height="2267.9609" style="stroke: #A80036; stroke-width: 1.0;" width="721.5" x="29" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="367.75" y="16.0669">VIPER</text><rect fill="#EEFFFF" height="2267.9609" style="stroke: #A80036; stroke-width: 1.0;" width="301" x="752.5" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="62" x="872" y="16.0669">Web API</text><rect fill="#FFEEFF" height="2267.9609" style="stroke: #A80036; stroke-width: 1.0;" width="153" x="1055.5" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="72" x="1096" y="16.0669">Database</text><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="2141.2344" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="54" y="74.4297"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="64.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="59" y="111.5625"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="59" y="522.1563"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="59" y="961.8828"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="59" y="1285.0781"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="59" y="2000"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="2011.7031" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="314" y="145.6953"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="314" y="2186.5313"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="619" y="247.9609"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="619" y="402.625"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="87.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="619" y="643.4219"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="87.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="619" y="784.0859"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="87.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="619" y="1107.2813"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="664.7891" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="619" y="1406.3438"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="820" y="672.5547"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="820" y="813.2188"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="820" y="1136.4141"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="820" y="1435.4766"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="820" y="1875.4688"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="971.5" y="1600.2734"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="971.5" y="1689.6719"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1127" y="1517.875"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1127" y="1779.0703"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="280.0625" style="stroke: #000000; stroke-width: 2.0;" width="743.5" x="13" y="292.0938"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="118.3984" style="stroke: #000000; stroke-width: 2.0;" width="350.5" x="23" y="446.7578"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="589.2578" style="stroke: #000000; stroke-width: 2.0;" width="890.5" x="13" y="745.8203"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="118.3984" style="stroke: #000000; stroke-width: 2.0;" width="350.5" x="23" y="886.4844"/><rect fill="#FFFFFF" height="323.1953" style="stroke: none; stroke-width: 1.0;" width="890.5" x="13" y="1011.8828"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="118.3984" style="stroke: #000000; stroke-width: 2.0;" width="350.5" x="23" y="1209.6797"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="343.5938" style="stroke: #000000; stroke-width: 2.0;" width="666" x="558.5" y="1479.6094"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="75.3984" style="stroke: #000000; stroke-width: 2.0;" width="491" x="568.5" y="1562.0078"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="75.3984" style="stroke: #000000; stroke-width: 2.0;" width="491" x="568.5" y="1651.4063"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="75.3984" style="stroke: #000000; stroke-width: 2.0;" width="646" x="568.5" y="1740.8047"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="205.7969" style="stroke: #000000; stroke-width: 2.0;" width="880.5" x="23" y="1837.2031"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="59" x2="59" y1="58.4297" y2="2233.6641"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="318.5" x2="318.5" y1="58.4297" y2="2233.6641"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="623.5" x2="623.5" y1="58.4297" y2="2233.6641"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="712.5" x2="712.5" y1="58.4297" y2="2233.6641"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="824.5" x2="824.5" y1="58.4297" y2="2233.6641"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="976.5" x2="976.5" y1="58.4297" y2="2233.6641"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1131.5" x2="1131.5" y1="58.4297" y2="2233.6641"/><rect fill="#FEFECE" filter="url(#fe52tm2zw5pce)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="48" x="33" y="23.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="34" x="40" y="43.1279">View</text><rect fill="#FEFECE" filter="url(#fe52tm2zw5pce)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="48" x="33" y="2232.6641"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="34" x="40" y="2252.6592">View</text><rect fill="#FEFECE" filter="url(#fe52tm2zw5pce)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="85" x="274.5" y="23.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="71" x="281.5" y="43.1279">Presenter</text><rect fill="#FEFECE" filter="url(#fe52tm2zw5pce)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="85" x="274.5" y="2232.6641"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="71" x="281.5" y="2252.6592">Presenter</text><rect fill="#FEFECE" filter="url(#fe52tm2zw5pce)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="87" x="578.5" y="23.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="585.5" y="43.1279">Interactor</text><rect fill="#FEFECE" filter="url(#fe52tm2zw5pce)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="87" x="578.5" y="2232.6641"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="585.5" y="2252.6592">Interactor</text><rect fill="#FEFECE" filter="url(#fe52tm2zw5pce)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="63" x="679.5" y="23.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="686.5" y="43.1279">Router</text><rect fill="#FEFECE" filter="url(#fe52tm2zw5pce)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="63" x="679.5" y="2232.6641"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="686.5" y="2252.6592">Router</text><rect fill="#FEFECE" filter="url(#fe52tm2zw5pce)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="133" x="756.5" y="23.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="119" x="763.5" y="43.1279">GoogleSignInApi</text><rect fill="#FEFECE" filter="url(#fe52tm2zw5pce)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="133" x="756.5" y="2232.6641"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="119" x="763.5" y="2252.6592">GoogleSignInApi</text><rect fill="#FEFECE" filter="url(#fe52tm2zw5pce)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="142" x="903.5" y="23.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="128" x="910.5" y="43.1279">GoogleOAuth2Api</text><rect fill="#FEFECE" filter="url(#fe52tm2zw5pce)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="142" x="903.5" y="2232.6641"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="128" x="910.5" y="2252.6592">GoogleOAuth2Api</text><rect fill="#FEFECE" filter="url(#fe52tm2zw5pce)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="141" x="1059.5" y="23.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="127" x="1066.5" y="43.1279">UserInfoDatabase</text><rect fill="#FEFECE" filter="url(#fe52tm2zw5pce)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="141" x="1059.5" y="2232.6641"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="127" x="1066.5" y="2252.6592">UserInfoDatabase</text><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="2141.2344" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="54" y="74.4297"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="64.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="59" y="111.5625"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="59" y="522.1563"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="59" y="961.8828"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="59" y="1285.0781"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="59" y="2000"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="2011.7031" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="314" y="145.6953"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="314" y="2186.5313"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="619" y="247.9609"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="619" y="402.625"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="87.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="619" y="643.4219"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="87.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="619" y="784.0859"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="87.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="619" y="1107.2813"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="664.7891" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="619" y="1406.3438"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="820" y="672.5547"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="820" y="813.2188"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="820" y="1136.4141"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="820" y="1435.4766"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="820" y="1875.4688"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="971.5" y="1600.2734"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="971.5" y="1689.6719"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1127" y="1517.875"/><rect fill="#FFFFFF" filter="url(#fe52tm2zw5pce)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1127" y="1779.0703"/><polygon fill="#A80036" points="42,70.4297,52,74.4297,42,78.4297,46,74.4297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="3" x2="48" y1="74.4297" y2="74.4297"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="64" x2="111" y1="98.5625" y2="98.5625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="111" x2="111" y1="98.5625" y2="111.5625"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="70" x2="111" y1="111.5625" y2="111.5625"/><polygon fill="#A80036" points="80,107.5625,70,111.5625,80,115.5625,76,111.5625" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="76" y="93.4966">Show app logo 2 secs.</text><polygon fill="#A80036" points="302,141.6953,312,145.6953,302,149.6953,306,145.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="69" x2="308" y1="145.6953" y2="145.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="76" y="140.6294">requestSignIn</text><rect fill="#EEEEEE" filter="url(#fe52tm2zw5pce)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1231.5" x="3" y="204.2617"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1234.5" y1="204.2617" y2="204.2617"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1234.5" y1="207.2617" y2="207.2617"/><rect fill="#EEEEEE" filter="url(#fe52tm2zw5pce)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="178" x="529.75" y="193.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="159" x="535.75" y="209.7622">Runtime Permissions</text><polygon fill="#A80036" points="607,243.9609,617,247.9609,607,251.9609,611,247.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="324" x2="613" y1="247.9609" y2="247.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="331" y="242.895">isGrantedRuntimePermissions</text><polygon fill="#A80036" points="335,273.0938,325,277.0938,335,281.0938,331,277.0938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="329" x2="623" y1="277.0938" y2="277.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="341" y="272.0278">Boolean</text><path d="M13,292.0938 L85,292.0938 L85,299.0938 L75,309.0938 L13,309.0938 L13,292.0938 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="280.0625" style="stroke: #000000; stroke-width: 2.0;" width="743.5" x="13" y="292.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27" x="28" y="305.1606">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="218" x="100" y="304.3042">[!isGrantedRuntimePermissions]</text><polygon fill="#A80036" points="701,326.3594,711,330.3594,701,334.3594,705,330.3594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="324" x2="707" y1="330.3594" y2="330.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="161" x="331" y="325.2935">startRuntimePermissions</text><polygon fill="#A80036" points="42,340.3594,52,344.3594,42,348.3594,46,344.3594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="3" x2="48" y1="344.3594" y2="344.3594"/><polygon fill="#A80036" points="302,369.4922,312,373.4922,302,377.4922,306,373.4922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="64" x2="308" y1="373.4922" y2="373.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="226" x="71" y="368.4263">evaluateRequestPermissionsResult</text><polygon fill="#A80036" points="607,398.625,617,402.625,607,406.625,611,402.625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="324" x2="613" y1="402.625" y2="402.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="331" y="397.5591">isGrantedRuntimePermissions</text><polygon fill="#A80036" points="335,427.7578,325,431.7578,335,435.7578,331,431.7578" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="329" x2="623" y1="431.7578" y2="431.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="341" y="426.6919">Boolean</text><path d="M23,446.7578 L95,446.7578 L95,453.7578 L85,463.7578 L23,463.7578 L23,446.7578 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="118.3984" style="stroke: #000000; stroke-width: 2.0;" width="350.5" x="23" y="446.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27" x="38" y="459.8247">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="218" x="110" y="458.9683">[!isGrantedRuntimePermissions]</text><polygon fill="#A80036" points="75,481.0234,65,485.0234,75,489.0234,71,485.0234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="69" x2="313" y1="485.0234" y2="485.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="191" x="81" y="479.9575">Callback#requestSignInResult</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="64" x2="111" y1="509.1563" y2="509.1563"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="111" x2="111" y1="509.1563" y2="522.1563"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="70" x2="111" y1="522.1563" y2="522.1563"/><polygon fill="#A80036" points="80,518.1563,70,522.1563,80,526.1563,76,522.1563" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="76" y="504.0903">Show error dialog</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="50" x2="68" y1="548.1563" y2="566.1563"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="50" x2="68" y1="566.1563" y2="548.1563"/><rect fill="#EEEEEE" filter="url(#fe52tm2zw5pce)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1231.5" x="3" y="599.7227"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1234.5" y1="599.7227" y2="599.7227"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1234.5" y1="602.7227" y2="602.7227"/><rect fill="#EEEEEE" filter="url(#fe52tm2zw5pce)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="127" x="555.25" y="589.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="108" x="561.25" y="605.2231">Google Sign In</text><polygon fill="#A80036" points="607,639.4219,617,643.4219,607,647.4219,611,643.4219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="324" x2="613" y1="643.4219" y2="643.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="331" y="638.356">isGoogleSignedIn</text><polygon fill="#A80036" points="808,668.5547,818,672.5547,808,676.5547,812,672.5547" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="629" x2="814" y1="672.5547" y2="672.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="116" x="636" y="667.4888">isSignedInAccount</text><polygon fill="#A80036" points="640,697.6875,630,701.6875,640,705.6875,636,701.6875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="634" x2="824" y1="701.6875" y2="701.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="646" y="696.6216">Boolean</text><polygon fill="#A80036" points="335,726.8203,325,730.8203,335,734.8203,331,730.8203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="329" x2="623" y1="730.8203" y2="730.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="341" y="725.7544">Boolean</text><path d="M13,745.8203 L79,745.8203 L79,752.8203 L69,762.8203 L13,762.8203 L13,745.8203 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="589.2578" style="stroke: #000000; stroke-width: 2.0;" width="890.5" x="13" y="745.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="28" y="758.8872">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="125" x="94" y="758.0308">[isGoogleSignedIn]</text><polygon fill="#A80036" points="607,780.0859,617,784.0859,607,788.0859,611,784.0859" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="324" x2="613" y1="784.0859" y2="784.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="331" y="779.02">requestGoogleSilentSignIn</text><polygon fill="#A80036" points="808,809.2188,818,813.2188,808,817.2188,812,813.2188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="629" x2="814" y1="813.2188" y2="813.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="122" x="636" y="808.1528">requestSilentSignIn</text><polygon fill="#A80036" points="640,838.3516,630,842.3516,640,846.3516,636,842.3516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="634" x2="824" y1="842.3516" y2="842.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="60" x="646" y="837.2856">ApiResult</text><polygon fill="#A80036" points="335,867.4844,325,871.4844,335,875.4844,331,871.4844" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="329" x2="623" y1="871.4844" y2="871.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="271" x="341" y="866.4185">Callback#requestGoogleSilentSignInResult</text><path d="M23,886.4844 L95,886.4844 L95,893.4844 L85,903.4844 L23,903.4844 L23,886.4844 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="118.3984" style="stroke: #000000; stroke-width: 2.0;" width="350.5" x="23" y="886.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27" x="38" y="899.5513">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="158" x="110" y="898.6948">[ApiResult!=Succeeded]</text><polygon fill="#A80036" points="75,920.75,65,924.75,75,928.75,71,924.75" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="69" x2="313" y1="924.75" y2="924.75"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="191" x="81" y="919.6841">Callback#requestSignInResult</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="64" x2="111" y1="948.8828" y2="948.8828"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="111" x2="111" y1="948.8828" y2="961.8828"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="70" x2="111" y1="961.8828" y2="961.8828"/><polygon fill="#A80036" points="80,957.8828,70,961.8828,80,965.8828,76,961.8828" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="76" y="943.8169">Show error dialog</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="50" x2="68" y1="987.8828" y2="1005.8828"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="50" x2="68" y1="1005.8828" y2="987.8828"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="13" x2="903.5" y1="1012.8828" y2="1012.8828"/><polygon fill="#A80036" points="701,1031.0156,711,1035.0156,701,1039.0156,705,1035.0156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="324" x2="707" y1="1035.0156" y2="1035.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="161" x="331" y="1029.9497">startGoogleSignInActivity</text><polygon fill="#A80036" points="42,1045.0156,52,1049.0156,42,1053.0156,46,1049.0156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="3" x2="48" y1="1049.0156" y2="1049.0156"/><polygon fill="#A80036" points="302,1074.1484,312,1078.1484,302,1082.1484,306,1078.1484" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="64" x2="308" y1="1078.1484" y2="1078.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="71" y="1073.0825">evaluateActivityResult</text><polygon fill="#A80036" points="607,1103.2813,617,1107.2813,607,1111.2813,611,1107.2813" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="324" x2="613" y1="1107.2813" y2="1107.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="331" y="1102.2153">isSucceededGoogleUserSignIn</text><polygon fill="#A80036" points="808,1132.4141,818,1136.4141,808,1140.4141,812,1136.4141" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="629" x2="814" y1="1136.4141" y2="1136.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="636" y="1131.3481">isSucceededUserSignIn</text><polygon fill="#A80036" points="640,1161.5469,630,1165.5469,640,1169.5469,636,1165.5469" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="634" x2="824" y1="1165.5469" y2="1165.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="646" y="1160.481">Boolean</text><polygon fill="#A80036" points="335,1190.6797,325,1194.6797,335,1198.6797,331,1194.6797" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="329" x2="623" y1="1194.6797" y2="1194.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="341" y="1189.6138">Boolean</text><path d="M23,1209.6797 L95,1209.6797 L95,1216.6797 L85,1226.6797 L23,1226.6797 L23,1209.6797 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="118.3984" style="stroke: #000000; stroke-width: 2.0;" width="350.5" x="23" y="1209.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27" x="38" y="1222.7466">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="215" x="110" y="1221.8901">[!isSucceededGoogleUserSignIn]</text><polygon fill="#A80036" points="75,1243.9453,65,1247.9453,75,1251.9453,71,1247.9453" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="69" x2="313" y1="1247.9453" y2="1247.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="191" x="81" y="1242.8794">Callback#requestSignInResult</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="64" x2="111" y1="1272.0781" y2="1272.0781"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="111" x2="111" y1="1272.0781" y2="1285.0781"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="70" x2="111" y1="1285.0781" y2="1285.0781"/><polygon fill="#A80036" points="80,1281.0781,70,1285.0781,80,1289.0781,76,1285.0781" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="76" y="1267.0122">Show error dialog</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="50" x2="68" y1="1311.0781" y2="1329.0781"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="50" x2="68" y1="1329.0781" y2="1311.0781"/><rect fill="#EEEEEE" filter="url(#fe52tm2zw5pce)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1231.5" x="3" y="1362.6445"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1234.5" y1="1362.6445" y2="1362.6445"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1234.5" y1="1365.6445" y2="1365.6445"/><rect fill="#EEEEEE" filter="url(#fe52tm2zw5pce)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="143" x="547.25" y="1352.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="124" x="553.25" y="1368.145">Update UserInfo</text><polygon fill="#A80036" points="607,1402.3438,617,1406.3438,607,1410.3438,611,1406.3438" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="324" x2="613" y1="1406.3438" y2="1406.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="148" x="331" y="1401.2778">requestUpdateUserInfo</text><polygon fill="#A80036" points="808,1431.4766,818,1435.4766,808,1439.4766,812,1435.4766" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="629" x2="814" y1="1435.4766" y2="1435.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="636" y="1430.4106">getSignedInAccount</text><polygon fill="#A80036" points="640,1460.6094,630,1464.6094,640,1468.6094,636,1464.6094" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="634" x2="824" y1="1464.6094" y2="1464.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="646" y="1459.5435">GoogleSignInAccount</text><path d="M558.5,1479.6094 L630.5,1479.6094 L630.5,1486.6094 L620.5,1496.6094 L558.5,1496.6094 L558.5,1479.6094 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="343.5938" style="stroke: #000000; stroke-width: 2.0;" width="666" x="558.5" y="1479.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27" x="573.5" y="1492.6763">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="232" x="645.5" y="1491.8198">[GoogleSignInAccount.email!=null]</text><polygon fill="#A80036" points="1115,1513.875,1125,1517.875,1115,1521.875,1119,1517.875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="629" x2="1121" y1="1517.875" y2="1517.875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="636" y="1512.8091">find</text><polygon fill="#A80036" points="640,1543.0078,630,1547.0078,640,1551.0078,636,1547.0078" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="634" x2="1131" y1="1547.0078" y2="1547.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="53" x="646" y="1541.9419">UserInfo</text><path d="M568.5,1562.0078 L640.5,1562.0078 L640.5,1569.0078 L630.5,1579.0078 L568.5,1579.0078 L568.5,1562.0078 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="75.3984" style="stroke: #000000; stroke-width: 2.0;" width="491" x="568.5" y="1562.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27" x="583.5" y="1575.0747">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="107" x="655.5" y="1574.2183">[UserInfo!=null]</text><polygon fill="#A80036" points="959.5,1596.2734,969.5,1600.2734,959.5,1604.2734,963.5,1600.2734" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="629" x2="965.5" y1="1600.2734" y2="1600.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="230" x="636" y="1595.2075">requestTokenInfoWithRefreshToken</text><polygon fill="#A80036" points="640,1625.4063,630,1629.4063,640,1633.4063,636,1629.4063" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="634" x2="975.5" y1="1629.4063" y2="1629.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="646" y="1624.3403">TokenInfo</text><path d="M568.5,1651.4063 L640.5,1651.4063 L640.5,1658.4063 L630.5,1668.4063 L568.5,1668.4063 L568.5,1651.4063 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="75.3984" style="stroke: #000000; stroke-width: 2.0;" width="491" x="568.5" y="1651.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27" x="583.5" y="1664.4731">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="121" x="655.5" y="1663.6167">[TokenInfo==null]</text><polygon fill="#A80036" points="959.5,1685.6719,969.5,1689.6719,959.5,1693.6719,963.5,1689.6719" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="629" x2="965.5" y1="1689.6719" y2="1689.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="204" x="636" y="1684.606">requestTokenInfoWithAuthCode</text><polygon fill="#A80036" points="640,1714.8047,630,1718.8047,640,1722.8047,636,1718.8047" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="634" x2="975.5" y1="1718.8047" y2="1718.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="646" y="1713.7388">TokenInfo</text><path d="M568.5,1740.8047 L640.5,1740.8047 L640.5,1747.8047 L630.5,1757.8047 L568.5,1757.8047 L568.5,1740.8047 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="75.3984" style="stroke: #000000; stroke-width: 2.0;" width="646" x="568.5" y="1740.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27" x="583.5" y="1753.8716">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="118" x="655.5" y="1753.0151">[TokenInfo!=null]</text><polygon fill="#A80036" points="1115,1775.0703,1125,1779.0703,1115,1783.0703,1119,1779.0703" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="629" x2="1121" y1="1779.0703" y2="1779.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="45" x="636" y="1774.0044">update</text><polygon fill="#A80036" points="640,1804.2031,630,1808.2031,640,1812.2031,636,1808.2031" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="634" x2="1131" y1="1808.2031" y2="1808.2031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="646" y="1803.1372">Boolean</text><path d="M23,1837.2031 L95,1837.2031 L95,1844.2031 L85,1854.2031 L23,1854.2031 L23,1837.2031 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="205.7969" style="stroke: #000000; stroke-width: 2.0;" width="880.5" x="23" y="1837.2031"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27" x="38" y="1850.27">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="166" x="110" y="1849.4136">[Failed update database]</text><polygon fill="#A80036" points="808,1871.4688,818,1875.4688,808,1879.4688,812,1875.4688" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="629" x2="814" y1="1875.4688" y2="1875.4688"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="89" x="636" y="1870.4028">revokeAccess</text><polygon fill="#A80036" points="640,1900.6016,630,1904.6016,640,1908.6016,636,1904.6016" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="634" x2="824" y1="1904.6016" y2="1904.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="60" x="646" y="1899.5356">ApiResult</text><polygon fill="#A80036" points="335,1929.7344,325,1933.7344,335,1937.7344,331,1933.7344" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="329" x2="618" y1="1933.7344" y2="1933.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="252" x="341" y="1928.6685">Callback#requestUpdateUserInfoResult</text><polygon fill="#A80036" points="75,1958.8672,65,1962.8672,75,1966.8672,71,1962.8672" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="69" x2="313" y1="1962.8672" y2="1962.8672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="191" x="81" y="1957.8013">Callback#requestSignInResult</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="64" x2="111" y1="1987" y2="1987"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="111" x2="111" y1="1987" y2="2000"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="70" x2="111" y1="2000" y2="2000"/><polygon fill="#A80036" points="80,1996,70,2000,80,2004,76,2000" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="76" y="1981.9341">Show error dialog</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="50" x2="68" y1="2026" y2="2044"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="50" x2="68" y1="2044" y2="2026"/><polygon fill="#A80036" points="335,2067.1328,325,2071.1328,335,2075.1328,331,2071.1328" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="329" x2="623" y1="2071.1328" y2="2071.1328"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="252" x="341" y="2066.0669">Callback#requestUpdateUserInfoResult</text><rect fill="#EEEEEE" filter="url(#fe52tm2zw5pce)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1231.5" x="3" y="2092.1328"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1234.5" y1="2092.1328" y2="2092.1328"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1234.5" y1="2095.1328" y2="2095.1328"/><polygon fill="#A80036" points="701,2124.2656,711,2128.2656,701,2132.2656,705,2128.2656" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="324" x2="707" y1="2128.2656" y2="2128.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="107" x="331" y="2123.1997">startMainActivity</text><polygon fill="#A80036" points="75,2153.3984,65,2157.3984,75,2161.3984,71,2157.3984" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="69" x2="318" y1="2157.3984" y2="2157.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="191" x="81" y="2152.3325">Callback#requestSignInResult</text><polygon fill="#A80036" points="302,2182.5313,312,2186.5313,302,2190.5313,306,2186.5313" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="64" x2="308" y1="2186.5313" y2="2186.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="71" y="2181.4653">destroy</text><polygon fill="#A80036" points="612,2211.6641,622,2215.6641,612,2219.6641,616,2215.6641" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="319" x2="618" y1="2215.6641" y2="2215.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="326" y="2210.5981">destroy</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="615" x2="633" y1="2206.6641" y2="2224.6641"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="615" x2="633" y1="2224.6641" y2="2206.6641"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="310" x2="328" y1="2206.6641" y2="2224.6641"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="310" x2="328" y1="2224.6641" y2="2206.6641"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="50" x2="68" y1="2206.6641" y2="2224.6641"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="50" x2="68" y1="2224.6641" y2="2206.6641"/><!--MD5=[6f72027b6954dddff1c615036e5c94fc]
@startuml
box "VIPER" #FFFFEE
  participant View
  participant Presenter
  participant Interactor
  participant Router
end box

box "Web API" #EEFFFF
  participant GoogleSignInApi
  participant GoogleOAuth2Api
end box

box "Database" #FFEEFF
  participant UserInfoDatabase
end box

[-> View
activate View
View -> View++: Show app logo 2 secs.

View -> Presenter++: requestSignIn
View- -

== Runtime Permissions ==

Presenter -> Interactor++: isGrantedRuntimePermissions
return Boolean

opt !isGrantedRuntimePermissions
  Presenter -> Router: startRuntimePermissions
  [- -> View
  View - -> Presenter: evaluateRequestPermissionsResult

  Presenter -> Interactor++: isGrantedRuntimePermissions  
  return Boolean

  opt !isGrantedRuntimePermissions
    View <- - Presenter: Callback#requestSignInResult
    View -> View++: Show error dialog
    destroy View
  end
end

== Google Sign In ==

Presenter -> Interactor++: isGoogleSignedIn
  Interactor -> GoogleSignInApi++: isSignedInAccount
  return Boolean
return Boolean

alt isGoogleSignedIn
  Presenter -> Interactor++: requestGoogleSilentSignIn
    Interactor -> GoogleSignInApi++: requestSilentSignIn
    return ApiResult
  return Callback#requestGoogleSilentSignInResult

  opt ApiResult!=Succeeded
    View <- - Presenter: Callback#requestSignInResult
    View -> View++: Show error dialog
    destroy View
  end

else
  Presenter -> Router: startGoogleSignInActivity
  [- -> View
  View - -> Presenter: evaluateActivityResult

  Presenter -> Interactor++: isSucceededGoogleUserSignIn
    Interactor -> GoogleSignInApi++: isSucceededUserSignIn
    return Boolean  
  return Boolean

  opt !isSucceededGoogleUserSignIn
    View <- - Presenter: Callback#requestSignInResult
    View -> View++: Show error dialog
    destroy View
  end
end

== Update UserInfo ==

Presenter -> Interactor++: requestUpdateUserInfo

Interactor -> GoogleSignInApi++: getSignedInAccount
return GoogleSignInAccount

opt GoogleSignInAccount.email!=null

  Interactor -> UserInfoDatabase++: find
  return UserInfo

  opt UserInfo!=null
    Interactor -> GoogleOAuth2Api++: requestTokenInfoWithRefreshToken
    return TokenInfo
  end

  opt TokenInfo==null
    Interactor -> GoogleOAuth2Api++: requestTokenInfoWithAuthCode
    return TokenInfo
  end

  opt TokenInfo!=null
    Interactor -> UserInfoDatabase++: update
    return Boolean
  end
end

opt Failed update database
  Interactor -> GoogleSignInApi++: revokeAccess
  return ApiResult
  Presenter <- - Interactor: Callback#requestUpdateUserInfoResult
  View <- - Presenter: Callback#requestSignInResult
  View -> View++: Show error dialog
  destroy View
end

Presenter <- - Interactor- -: Callback#requestUpdateUserInfoResult

====

Presenter -> Router: startMainActivity
View <- - Presenter- -: Callback#requestSignInResult

View -> Presenter++: destroy
Presenter -> Interactor!!: destroy
destroy Presenter
destroy View
@enduml

PlantUML version 1.2020.15beta1(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>