<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1927px" preserveAspectRatio="none" style="width:1123px;height:1927px;" version="1.1" viewBox="0 0 1123 1927" width="1123px" zoomAndPan="magnify"><defs><filter height="300%" id="f1lbexv32n35xp" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1lbexv32n35xp)" height="1815.3047" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="54" y="54.2969"/><rect fill="#FFFFFF" filter="url(#f1lbexv32n35xp)" height="64.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="59" y="91.4297"/><rect fill="#FFFFFF" filter="url(#f1lbexv32n35xp)" height="1685.7734" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="314" y="125.5625"/><rect fill="#FFFFFF" filter="url(#f1lbexv32n35xp)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="314" y="1840.4688"/><rect fill="#FFFFFF" filter="url(#f1lbexv32n35xp)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="555" y="227.8281"/><rect fill="#FFFFFF" filter="url(#f1lbexv32n35xp)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="555" y="382.4922"/><rect fill="#FFFFFF" filter="url(#f1lbexv32n35xp)" height="87.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="555" y="593.2891"/><rect fill="#FFFFFF" filter="url(#f1lbexv32n35xp)" height="87.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="555" y="733.9531"/><rect fill="#FFFFFF" filter="url(#f1lbexv32n35xp)" height="87.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="555" y="1027.1484"/><rect fill="#FFFFFF" filter="url(#f1lbexv32n35xp)" height="428.8594" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="555" y="1296.2109"/><rect fill="#FFFFFF" filter="url(#f1lbexv32n35xp)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="756" y="622.4219"/><rect fill="#FFFFFF" filter="url(#f1lbexv32n35xp)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="756" y="763.0859"/><rect fill="#FFFFFF" filter="url(#f1lbexv32n35xp)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="756" y="1056.2813"/><rect fill="#FFFFFF" filter="url(#f1lbexv32n35xp)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="756" y="1552.4063"/><rect fill="#FFFFFF" filter="url(#f1lbexv32n35xp)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="907.5" y="1325.3438"/><rect fill="#FFFFFF" filter="url(#f1lbexv32n35xp)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1033.5" y="1438.875"/><rect fill="#FFFFFF" filter="url(#f1lbexv32n35xp)" height="250.0625" style="stroke: #000000; stroke-width: 2.0;" width="679.5" x="13" y="271.9609"/><rect fill="#FFFFFF" filter="url(#f1lbexv32n35xp)" height="88.3984" style="stroke: #000000; stroke-width: 2.0;" width="350.5" x="23" y="426.625"/><rect fill="#FFFFFF" filter="url(#f1lbexv32n35xp)" height="529.2578" style="stroke: #000000; stroke-width: 2.0;" width="826.5" x="13" y="695.6875"/><rect fill="#FFFFFF" filter="url(#f1lbexv32n35xp)" height="88.3984" style="stroke: #000000; stroke-width: 2.0;" width="350.5" x="23" y="836.3516"/><rect fill="#FFFFFF" height="293.1953" style="stroke: none; stroke-width: 1.0;" width="826.5" x="13" y="931.75"/><rect fill="#FFFFFF" filter="url(#f1lbexv32n35xp)" height="88.3984" style="stroke: #000000; stroke-width: 2.0;" width="350.5" x="23" y="1129.5469"/><rect fill="#FFFFFF" filter="url(#f1lbexv32n35xp)" height="327.4609" style="stroke: #000000; stroke-width: 2.0;" width="1088.5" x="13" y="1369.4766"/><rect fill="#FFFFFF" height="281.1953" style="stroke: none; stroke-width: 1.0;" width="1088.5" x="13" y="1415.7422"/><rect fill="#FFFFFF" filter="url(#f1lbexv32n35xp)" height="206.9297" style="stroke: #000000; stroke-width: 2.0;" width="1068.5" x="23" y="1483.0078"/><rect fill="#FFFFFF" height="160.6641" style="stroke: none; stroke-width: 1.0;" width="1068.5" x="23" y="1529.2734"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="59" x2="59" y1="38.2969" y2="1887.6016"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="318.5" x2="318.5" y1="38.2969" y2="1887.6016"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="559.5" x2="559.5" y1="38.2969" y2="1887.6016"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="648.5" x2="648.5" y1="38.2969" y2="1887.6016"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="760.5" x2="760.5" y1="38.2969" y2="1887.6016"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="912.5" x2="912.5" y1="38.2969" y2="1887.6016"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1038.5" x2="1038.5" y1="38.2969" y2="1887.6016"/><rect fill="#FEFECE" filter="url(#f1lbexv32n35xp)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="48" x="33" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="34" x="40" y="22.9951">View</text><rect fill="#FEFECE" filter="url(#f1lbexv32n35xp)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="48" x="33" y="1886.6016"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="34" x="40" y="1906.5967">View</text><rect fill="#FEFECE" filter="url(#f1lbexv32n35xp)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="85" x="274.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="71" x="281.5" y="22.9951">Presenter</text><rect fill="#FEFECE" filter="url(#f1lbexv32n35xp)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="85" x="274.5" y="1886.6016"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="71" x="281.5" y="1906.5967">Presenter</text><rect fill="#FEFECE" filter="url(#f1lbexv32n35xp)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="87" x="514.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="521.5" y="22.9951">Interactor</text><rect fill="#FEFECE" filter="url(#f1lbexv32n35xp)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="87" x="514.5" y="1886.6016"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="521.5" y="1906.5967">Interactor</text><rect fill="#FEFECE" filter="url(#f1lbexv32n35xp)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="63" x="615.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="622.5" y="22.9951">Router</text><rect fill="#FEFECE" filter="url(#f1lbexv32n35xp)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="63" x="615.5" y="1886.6016"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="622.5" y="1906.5967">Router</text><rect fill="#FEFECE" filter="url(#f1lbexv32n35xp)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="133" x="692.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="119" x="699.5" y="22.9951">GoogleSignInApi</text><rect fill="#FEFECE" filter="url(#f1lbexv32n35xp)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="133" x="692.5" y="1886.6016"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="119" x="699.5" y="1906.5967">GoogleSignInApi</text><rect fill="#FEFECE" filter="url(#f1lbexv32n35xp)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="142" x="839.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="128" x="846.5" y="22.9951">GoogleOAuth2Api</text><rect fill="#FEFECE" filter="url(#f1lbexv32n35xp)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="142" x="839.5" y="1886.6016"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="128" x="846.5" y="1906.5967">GoogleOAuth2Api</text><rect fill="#FEFECE" filter="url(#f1lbexv32n35xp)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="82" x="995.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="1002.5" y="22.9951">DataBase</text><rect fill="#FEFECE" filter="url(#f1lbexv32n35xp)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="82" x="995.5" y="1886.6016"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="1002.5" y="1906.5967">DataBase</text><rect fill="#FFFFFF" filter="url(#f1lbexv32n35xp)" height="1815.3047" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="54" y="54.2969"/><rect fill="#FFFFFF" filter="url(#f1lbexv32n35xp)" height="64.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="59" y="91.4297"/><rect fill="#FFFFFF" filter="url(#f1lbexv32n35xp)" height="1685.7734" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="314" y="125.5625"/><rect fill="#FFFFFF" filter="url(#f1lbexv32n35xp)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="314" y="1840.4688"/><rect fill="#FFFFFF" filter="url(#f1lbexv32n35xp)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="555" y="227.8281"/><rect fill="#FFFFFF" filter="url(#f1lbexv32n35xp)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="555" y="382.4922"/><rect fill="#FFFFFF" filter="url(#f1lbexv32n35xp)" height="87.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="555" y="593.2891"/><rect fill="#FFFFFF" filter="url(#f1lbexv32n35xp)" height="87.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="555" y="733.9531"/><rect fill="#FFFFFF" filter="url(#f1lbexv32n35xp)" height="87.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="555" y="1027.1484"/><rect fill="#FFFFFF" filter="url(#f1lbexv32n35xp)" height="428.8594" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="555" y="1296.2109"/><rect fill="#FFFFFF" filter="url(#f1lbexv32n35xp)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="756" y="622.4219"/><rect fill="#FFFFFF" filter="url(#f1lbexv32n35xp)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="756" y="763.0859"/><rect fill="#FFFFFF" filter="url(#f1lbexv32n35xp)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="756" y="1056.2813"/><rect fill="#FFFFFF" filter="url(#f1lbexv32n35xp)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="756" y="1552.4063"/><rect fill="#FFFFFF" filter="url(#f1lbexv32n35xp)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="907.5" y="1325.3438"/><rect fill="#FFFFFF" filter="url(#f1lbexv32n35xp)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1033.5" y="1438.875"/><polygon fill="#A80036" points="42,50.2969,52,54.2969,42,58.2969,46,54.2969" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="3" x2="48" y1="54.2969" y2="54.2969"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="64" x2="111" y1="78.4297" y2="78.4297"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="111" x2="111" y1="78.4297" y2="91.4297"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="70" x2="111" y1="91.4297" y2="91.4297"/><polygon fill="#A80036" points="80,87.4297,70,91.4297,80,95.4297,76,91.4297" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="76" y="73.3638">Show app logo 2 secs.</text><polygon fill="#A80036" points="302,121.5625,312,125.5625,302,129.5625,306,125.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="69" x2="308" y1="125.5625" y2="125.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="76" y="120.4966">requestSignIn</text><rect fill="#EEEEEE" filter="url(#f1lbexv32n35xp)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1108.5" x="3" y="184.1289"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1111.5" y1="184.1289" y2="184.1289"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1111.5" y1="187.1289" y2="187.1289"/><rect fill="#EEEEEE" filter="url(#f1lbexv32n35xp)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="178" x="468.25" y="173.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="159" x="474.25" y="189.6294">Runtime Permissions</text><polygon fill="#A80036" points="543,223.8281,553,227.8281,543,231.8281,547,227.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="324" x2="549" y1="227.8281" y2="227.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="331" y="222.7622">isGrantedRuntimePermissions</text><polygon fill="#A80036" points="335,252.9609,325,256.9609,335,260.9609,331,256.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="329" x2="559" y1="256.9609" y2="256.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="341" y="251.895">Boolean</text><path d="M13,271.9609 L85,271.9609 L85,278.9609 L75,288.9609 L13,288.9609 L13,271.9609 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="250.0625" style="stroke: #000000; stroke-width: 2.0;" width="679.5" x="13" y="271.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27" x="28" y="285.0278">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="218" x="100" y="284.1714">[!isGrantedRuntimePermissions]</text><polygon fill="#A80036" points="637,306.2266,647,310.2266,637,314.2266,641,310.2266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="324" x2="643" y1="310.2266" y2="310.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="161" x="331" y="305.1606">startRuntimePermissions</text><polygon fill="#A80036" points="42,320.2266,52,324.2266,42,328.2266,46,324.2266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="3" x2="48" y1="324.2266" y2="324.2266"/><polygon fill="#A80036" points="302,349.3594,312,353.3594,302,357.3594,306,353.3594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="64" x2="308" y1="353.3594" y2="353.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="226" x="71" y="348.2935">evaluateRequestPermissionsResult</text><polygon fill="#A80036" points="543,378.4922,553,382.4922,543,386.4922,547,382.4922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="324" x2="549" y1="382.4922" y2="382.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="331" y="377.4263">isGrantedRuntimePermissions</text><polygon fill="#A80036" points="335,407.625,325,411.625,335,415.625,331,411.625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="329" x2="559" y1="411.625" y2="411.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="341" y="406.5591">Boolean</text><path d="M23,426.625 L95,426.625 L95,433.625 L85,443.625 L23,443.625 L23,426.625 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="88.3984" style="stroke: #000000; stroke-width: 2.0;" width="350.5" x="23" y="426.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27" x="38" y="439.6919">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="218" x="110" y="438.8354">[!isGrantedRuntimePermissions]</text><polygon fill="#A80036" points="75,460.8906,65,464.8906,75,468.8906,71,464.8906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="69" x2="313" y1="464.8906" y2="464.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="81" y="459.8247">requestSignInResult</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="64" x2="106" y1="494.0234" y2="494.0234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="106" x2="106" y1="494.0234" y2="507.0234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="65" x2="106" y1="507.0234" y2="507.0234"/><polygon fill="#A80036" points="75,503.0234,65,507.0234,75,511.0234,71,507.0234" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="71" y="488.9575">Show error dialog</text><rect fill="#EEEEEE" filter="url(#f1lbexv32n35xp)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1108.5" x="3" y="549.5898"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1111.5" y1="549.5898" y2="549.5898"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1111.5" y1="552.5898" y2="552.5898"/><rect fill="#EEEEEE" filter="url(#f1lbexv32n35xp)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="127" x="493.75" y="539.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="108" x="499.75" y="555.0903">Google Sign In</text><polygon fill="#A80036" points="543,589.2891,553,593.2891,543,597.2891,547,593.2891" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="324" x2="549" y1="593.2891" y2="593.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="331" y="588.2231">isGoogleSignedIn</text><polygon fill="#A80036" points="744,618.4219,754,622.4219,744,626.4219,748,622.4219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="565" x2="750" y1="622.4219" y2="622.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="116" x="572" y="617.356">isSignedInAccount</text><polygon fill="#A80036" points="576,647.5547,566,651.5547,576,655.5547,572,651.5547" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="570" x2="760" y1="651.5547" y2="651.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="582" y="646.4888">Boolean</text><polygon fill="#A80036" points="335,676.6875,325,680.6875,335,684.6875,331,680.6875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="329" x2="559" y1="680.6875" y2="680.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="341" y="675.6216">Boolean</text><path d="M13,695.6875 L79,695.6875 L79,702.6875 L69,712.6875 L13,712.6875 L13,695.6875 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="529.2578" style="stroke: #000000; stroke-width: 2.0;" width="826.5" x="13" y="695.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="28" y="708.7544">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="125" x="94" y="707.8979">[isGoogleSignedIn]</text><polygon fill="#A80036" points="543,729.9531,553,733.9531,543,737.9531,547,733.9531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="324" x2="549" y1="733.9531" y2="733.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="331" y="728.8872">requestGoogleSilentSignIn</text><polygon fill="#A80036" points="744,759.0859,754,763.0859,744,767.0859,748,763.0859" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="565" x2="750" y1="763.0859" y2="763.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="122" x="572" y="758.02">requestSilentSignIn</text><polygon fill="#A80036" points="576,788.2188,566,792.2188,576,796.2188,572,792.2188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="570" x2="760" y1="792.2188" y2="792.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="60" x="582" y="787.1528">ApiResult</text><polygon fill="#A80036" points="335,817.3516,325,821.3516,335,825.3516,331,821.3516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="329" x2="559" y1="821.3516" y2="821.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="207" x="341" y="816.2856">requestGoogleSilentSignInResult</text><path d="M23,836.3516 L95,836.3516 L95,843.3516 L85,853.3516 L23,853.3516 L23,836.3516 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="88.3984" style="stroke: #000000; stroke-width: 2.0;" width="350.5" x="23" y="836.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27" x="38" y="849.4185">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="158" x="110" y="848.562">[ApiResult!=Succeeded]</text><polygon fill="#A80036" points="75,870.6172,65,874.6172,75,878.6172,71,874.6172" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="69" x2="313" y1="874.6172" y2="874.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="81" y="869.5513">requestSignInResult</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="64" x2="106" y1="903.75" y2="903.75"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="106" x2="106" y1="903.75" y2="916.75"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="65" x2="106" y1="916.75" y2="916.75"/><polygon fill="#A80036" points="75,912.75,65,916.75,75,920.75,71,916.75" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="71" y="898.6841">Show error dialog</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="13" x2="839.5" y1="932.75" y2="932.75"/><polygon fill="#A80036" points="637,950.8828,647,954.8828,637,958.8828,641,954.8828" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="324" x2="643" y1="954.8828" y2="954.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="161" x="331" y="949.8169">startGoogleSignInActivity</text><polygon fill="#A80036" points="42,964.8828,52,968.8828,42,972.8828,46,968.8828" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="3" x2="48" y1="968.8828" y2="968.8828"/><polygon fill="#A80036" points="302,994.0156,312,998.0156,302,1002.0156,306,998.0156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="64" x2="308" y1="998.0156" y2="998.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="71" y="992.9497">evaluateActivityResult</text><polygon fill="#A80036" points="543,1023.1484,553,1027.1484,543,1031.1484,547,1027.1484" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="324" x2="549" y1="1027.1484" y2="1027.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="331" y="1022.0825">isSucceededGoogleUserSignIn</text><polygon fill="#A80036" points="744,1052.2813,754,1056.2813,744,1060.2813,748,1056.2813" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="565" x2="750" y1="1056.2813" y2="1056.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="572" y="1051.2153">isSucceededUserSignIn</text><polygon fill="#A80036" points="576,1081.4141,566,1085.4141,576,1089.4141,572,1085.4141" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="570" x2="760" y1="1085.4141" y2="1085.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="582" y="1080.3481">Boolean</text><polygon fill="#A80036" points="335,1110.5469,325,1114.5469,335,1118.5469,331,1114.5469" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="329" x2="559" y1="1114.5469" y2="1114.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="341" y="1109.481">Boolean</text><path d="M23,1129.5469 L95,1129.5469 L95,1136.5469 L85,1146.5469 L23,1146.5469 L23,1129.5469 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="88.3984" style="stroke: #000000; stroke-width: 2.0;" width="350.5" x="23" y="1129.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="27" x="38" y="1142.6138">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="215" x="110" y="1141.7573">[!isSucceededGoogleUserSignIn]</text><polygon fill="#A80036" points="75,1163.8125,65,1167.8125,75,1171.8125,71,1167.8125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="69" x2="313" y1="1167.8125" y2="1167.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="81" y="1162.7466">requestSignInResult</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="64" x2="106" y1="1196.9453" y2="1196.9453"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="106" x2="106" y1="1196.9453" y2="1209.9453"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="65" x2="106" y1="1209.9453" y2="1209.9453"/><polygon fill="#A80036" points="75,1205.9453,65,1209.9453,75,1213.9453,71,1209.9453" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="71" y="1191.8794">Show error dialog</text><rect fill="#EEEEEE" filter="url(#f1lbexv32n35xp)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1108.5" x="3" y="1252.5117"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1111.5" y1="1252.5117" y2="1252.5117"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1111.5" y1="1255.5117" y2="1255.5117"/><rect fill="#EEEEEE" filter="url(#f1lbexv32n35xp)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="148" x="483.25" y="1241.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="129" x="489.25" y="1258.0122">Update User Info</text><polygon fill="#A80036" points="543,1292.2109,553,1296.2109,543,1300.2109,547,1296.2109" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="324" x2="549" y1="1296.2109" y2="1296.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="148" x="331" y="1291.145">requestUpdateUserInfo</text><polygon fill="#A80036" points="895.5,1321.3438,905.5,1325.3438,895.5,1329.3438,899.5,1325.3438" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="565" x2="901.5" y1="1325.3438" y2="1325.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="204" x="572" y="1320.2778">requestTokenInfoWithAuthCode</text><polygon fill="#A80036" points="576,1350.4766,566,1354.4766,576,1358.4766,572,1354.4766" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="570" x2="911.5" y1="1354.4766" y2="1354.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="582" y="1349.4106">TokenInfo</text><path d="M13,1369.4766 L79,1369.4766 L79,1376.4766 L69,1386.4766 L13,1386.4766 L13,1369.4766 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="327.4609" style="stroke: #000000; stroke-width: 2.0;" width="1088.5" x="13" y="1369.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="28" y="1382.5435">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="213" x="94" y="1381.687">[TokenInfo.refreshToken!=null]</text><polygon fill="#A80036" points="1026.5,1403.7422,1036.5,1407.7422,1026.5,1411.7422,1030.5,1407.7422" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="565" x2="1032.5" y1="1407.7422" y2="1407.7422"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="572" y="1402.6763">updateUserInfo</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="13" x2="1101.5" y1="1416.7422" y2="1416.7422"/><polygon fill="#A80036" points="1021.5,1434.875,1031.5,1438.875,1021.5,1442.875,1025.5,1438.875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="565" x2="1027.5" y1="1438.875" y2="1438.875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="572" y="1433.8091">findUserInfo</text><polygon fill="#A80036" points="576,1464.0078,566,1468.0078,576,1472.0078,572,1468.0078" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="570" x2="1037.5" y1="1468.0078" y2="1468.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="53" x="582" y="1462.9419">UserInfo</text><path d="M23,1483.0078 L89,1483.0078 L89,1490.0078 L79,1500.0078 L23,1500.0078 L23,1483.0078 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="206.9297" style="stroke: #000000; stroke-width: 2.0;" width="1068.5" x="23" y="1483.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="38" y="1496.0747">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="202" x="104" y="1495.2183">[UserInfo.refreshToken!=null]</text><polygon fill="#A80036" points="1026.5,1517.2734,1036.5,1521.2734,1026.5,1525.2734,1030.5,1521.2734" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="565" x2="1032.5" y1="1521.2734" y2="1521.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="572" y="1516.2075">updateUserInfo</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="23" x2="1091.5" y1="1530.2734" y2="1530.2734"/><polygon fill="#A80036" points="744,1548.4063,754,1552.4063,744,1556.4063,748,1552.4063" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="565" x2="750" y1="1552.4063" y2="1552.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="89" x="572" y="1547.3403">revokeAccess</text><polygon fill="#A80036" points="576,1577.5391,566,1581.5391,576,1585.5391,572,1581.5391" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="570" x2="760" y1="1581.5391" y2="1581.5391"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="60" x="582" y="1576.4731">ApiResult</text><polygon fill="#A80036" points="335,1606.6719,325,1610.6719,335,1614.6719,331,1610.6719" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="329" x2="554" y1="1610.6719" y2="1610.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="188" x="341" y="1605.606">requestUpdateUserInfoResult</text><polygon fill="#A80036" points="75,1635.8047,65,1639.8047,75,1643.8047,71,1639.8047" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="69" x2="313" y1="1639.8047" y2="1639.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="81" y="1634.7388">requestSignInResult</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="64" x2="106" y1="1668.9375" y2="1668.9375"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="106" x2="106" y1="1668.9375" y2="1681.9375"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="65" x2="106" y1="1681.9375" y2="1681.9375"/><polygon fill="#A80036" points="75,1677.9375,65,1681.9375,75,1685.9375,71,1681.9375" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="71" y="1663.8716">Show error dialog</text><polygon fill="#A80036" points="335,1721.0703,325,1725.0703,335,1729.0703,331,1725.0703" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="329" x2="559" y1="1725.0703" y2="1725.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="188" x="341" y="1720.0044">requestUpdateUserInfoResult</text><rect fill="#EEEEEE" filter="url(#f1lbexv32n35xp)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1108.5" x="3" y="1746.0703"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1111.5" y1="1746.0703" y2="1746.0703"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1111.5" y1="1749.0703" y2="1749.0703"/><polygon fill="#A80036" points="637,1778.2031,647,1782.2031,637,1786.2031,641,1782.2031" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="324" x2="643" y1="1782.2031" y2="1782.2031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="107" x="331" y="1777.1372">startMainActivity</text><polygon fill="#A80036" points="75,1807.3359,65,1811.3359,75,1815.3359,71,1811.3359" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="69" x2="318" y1="1811.3359" y2="1811.3359"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="81" y="1806.27">requestSignInResult</text><polygon fill="#A80036" points="302,1836.4688,312,1840.4688,302,1844.4688,306,1840.4688" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="64" x2="308" y1="1840.4688" y2="1840.4688"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="71" y="1835.4028">destroy</text><polygon fill="#A80036" points="548,1865.6016,558,1869.6016,548,1873.6016,552,1869.6016" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="319" x2="554" y1="1869.6016" y2="1869.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="326" y="1864.5356">destroy</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="551" x2="569" y1="1860.6016" y2="1878.6016"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="551" x2="569" y1="1878.6016" y2="1860.6016"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="310" x2="328" y1="1860.6016" y2="1878.6016"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="310" x2="328" y1="1878.6016" y2="1860.6016"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="50" x2="68" y1="1860.6016" y2="1878.6016"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="50" x2="68" y1="1878.6016" y2="1860.6016"/><!--MD5=[c1eaa04f53e27d8a17a8660d228409f1]
@startuml
[-> View
activate View
View -> View++: Show app logo 2 secs.

View -> Presenter++: requestSignIn
View- -

== Runtime Permissions ==

Presenter -> Interactor++: isGrantedRuntimePermissions
return Boolean

opt !isGrantedRuntimePermissions
  Presenter -> Router: startRuntimePermissions
  [- -> View
  View - -> Presenter: evaluateRequestPermissionsResult

  Presenter -> Interactor++: isGrantedRuntimePermissions  
  return Boolean

  opt !isGrantedRuntimePermissions
    View <- - Presenter: requestSignInResult
    View -> View: Show error dialog
  end
end

== Google Sign In ==

Presenter -> Interactor++: isGoogleSignedIn
  Interactor -> GoogleSignInApi++: isSignedInAccount
  return Boolean
return Boolean

alt isGoogleSignedIn
  Presenter -> Interactor++: requestGoogleSilentSignIn
    Interactor -> GoogleSignInApi++: requestSilentSignIn
    return ApiResult
  return requestGoogleSilentSignInResult

  opt ApiResult!=Succeeded
    View <- - Presenter: requestSignInResult
    View -> View: Show error dialog
  end

else
  Presenter -> Router: startGoogleSignInActivity
  [- -> View
  View - -> Presenter: evaluateActivityResult

  Presenter -> Interactor++: isSucceededGoogleUserSignIn
    Interactor -> GoogleSignInApi++: isSucceededUserSignIn
    return Boolean  
  return Boolean

  opt !isSucceededGoogleUserSignIn
    View <- - Presenter: requestSignInResult
    View -> View: Show error dialog
  end
end

== Update User Info ==

Presenter -> Interactor++: requestUpdateUserInfo
  Interactor -> GoogleOAuth2Api++: requestTokenInfoWithAuthCode
  return TokenInfo

alt TokenInfo.refreshToken!=null
  Interactor -> DataBase: updateUserInfo

else
  Interactor -> DataBase++: findUserInfo
  return UserInfo

  alt UserInfo.refreshToken!=null
    Interactor -> DataBase: updateUserInfo
  else
    Interactor -> GoogleSignInApi++: revokeAccess
    return ApiResult
    Presenter <- - Interactor: requestUpdateUserInfoResult
    View <- - Presenter: requestSignInResult
    View -> View: Show error dialog
  end

end

return requestUpdateUserInfoResult

====

Presenter -> Router: startMainActivity
View <- - Presenter- -: requestSignInResult

View -> Presenter++: destroy
Presenter -> Interactor!!: destroy
destroy Presenter
destroy View
@enduml

PlantUML version 1.2020.10(Sun May 17 09:48:49 UTC 2020)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>